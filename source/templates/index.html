{% extends "baser.html" %}

{% block main %}
    <table class="product_table">
        <thead>
            <tr>
                <form action="/" method="get">
                    <td>
                        <select name="agregate" onchange="this.form.submit()">
                            <option value="sum" {% if agregate == "sum" %}selected{% endif %}>sum</option>
                            <option value="max" {% if agregate == "max" %}selected{% endif %}>max</option>
                        </select>
                    </td>
                    <td>
                        <input type="checkbox" name="sort" value="accel" onchange="this.form.submit()"
                               {% if checkdict['accel'] == True %}checked{% endif %}>
                        Acceleration
                    </td>
                    <td>
                        <input type="checkbox" name="sort" value="speed" onchange="this.form.submit()"
                               {% if checkdict['speed'] == True %}checked{% endif %}>
                        Speed
                    </td>
                    <td>
                        <input type="checkbox" name="sort" value="handl" onchange="this.form.submit()"
                               {% if checkdict['handl'] == True %}checked{% endif %}>
                        Handling
                    </td>
                </form>
            </tr>
        </thead>
        <tbody>
            {% for car in database %}
            <tr>
                <td>{{ car.key().get_name_value() }}</td>
                <td class="product_parameter">
                    <span style="width:{{ car.key().get_accel_value() }}%">{{ car.key().get_accel_value() }}%</span>
                </td>
                <td class="product_parameter">
                    <span style="width:{{ car.key().get_speed_value() }}%">{{ car.key().get_speed_value() }}%</span>
                </td>
                <td class="product_parameter">
                    <span style="width:{{ car.key().get_handl_value() }}%">{{ car.key().get_handl_value() }}%</span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div><p>{{ content }}</p></div>
{% endblock %}
